<div class="Add-task p-5">
 
    <div class="header d-flex justify-content-between">
        <h1>
            Add New Task 
        </h1>
        <button mat-flat-button  (click)="close()" class="text-center bg-secondary-subtle">
            <mat-icon class="color-seconder">close</mat-icon>
        </button>

    </div>
   <form [formGroup]="newTaskform">
    <div class="row">
          <div class="col-md-12" >
          <mat-form-field appearance="outline" class="w-100 ">
            <mat-label> Title </mat-label> 
            <input matInput type="text"  formControlName="title" required  >
          </mat-form-field>
          </div>
          <div class="col-md-12" >
          <mat-form-field appearance="outline" class="w-100 ">
            <mat-label> User </mat-label> 
            <mat-select formControlName="userId" >
            
              <mat-option *ngFor="let user of users" [value]="user?.id">
                {{ user.name }}
              </mat-option>
            </mat-select>
            
            <input matInput type="text"  formControlName="userId" required  >
          </mat-form-field>
        </div>
        <div class="col-md-12 my-2" >

            <label class="custom-file-label d-block m-2" for="inputGroupFile04" class="btn btn-primary">Choose file</label>
            <span>{{ fileName }}</span>
            <input  type="file" class="custom-file-input " id="inputGroupFile04" hidden (change)="selectImage($event)">
         
        </div>
        <div class="col-md-12 " >
          <mat-form-field appearance="outline" class="w-100 ">
            <mat-label>  Dead Line Date </mat-label> 
            <input formControlName="deadline" matInput [matDatepicker]="picker" placeholder="Choose a date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-md-12" >
          <mat-form-field appearance="outline" class="w-100 ">
            <mat-label> description </mat-label> 
            <textarea formControlName="description" matInput  >
            </textarea>
          </mat-form-field>
        </div>
   </div>
   <div  class="fottor d-flex justify-content-center">
    <button *ngIf="!data"     type="button" class="btn btn-success mx-2 p-3" (click)="createTask()" [disabled]="newTaskform.invalid">Create</button>
    <button  *ngIf="data" type="button" class="btn btn-success mx-2 p-3" (click)="updateTask()" [disabled]="newTaskform.invalid">Update</button>
    <button type="button" class="btn btn-danger p-3" (click)="close()" >Close</button>

   </div>
</form>
</div>

